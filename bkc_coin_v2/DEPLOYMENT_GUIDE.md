# BKC Coin v2 - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ "BKC-IMMORTAL"

–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–ø–æ—Å–æ–±–Ω–∞ –≤—ã–¥–µ—Ä–∂–∞—Ç—å 20,000+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –Ω—É–ª–µ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é —Ö–æ—Å—Ç–∏–Ω–≥–∞.

### üìä –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend      ‚îÇ    ‚îÇ   Backend       ‚îÇ    ‚îÇ   Games         ‚îÇ
‚îÇ   (Vercel)      ‚îÇ    ‚îÇ   (Render x15)  ‚îÇ    ‚îÇ   (Render x3)   ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ React + Canvas  ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ Go API Nodes    ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ WebSocket       ‚îÇ
‚îÇ Multi-language  ‚îÇ    ‚îÇ Load Balancer   ‚îÇ    ‚îÇ Real-time       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ              Data Layer                          ‚îÇ
         ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
         ‚îÇ  ‚îÇ   Neon      ‚îÇ ‚îÇCockroachDB  ‚îÇ ‚îÇ   Redis   ‚îÇ ‚îÇ
         ‚îÇ  ‚îÇ  (x5 DBs)   ‚îÇ ‚îÇ  (x2 DBs)   ‚îÇ ‚îÇ (x4 nodes)‚îÇ ‚îÇ
         ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

1. **–§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** –Ω–∞ GitHub
2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É** –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
```bash
git checkout -b production
git push origin production
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

#### üü¢ Neon.tech (5 –±–∞–∑ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [Neon.tech](https://neon.tech) –∏ —Å–æ–∑–¥–∞–π—Ç–µ 5 –ø—Ä–æ–µ–∫—Ç–æ–≤:

| –ë–∞–∑–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|----------|---------------------|------------|
| DB_0 | bkc-users-0 | `NEON_0_HOST`, `NEON_0_PASSWORD`, `NEON_0_DB` | ID –æ–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ 0-1 |
| DB_1 | bkc-users-1 | `NEON_1_HOST`, `NEON_1_PASSWORD`, `NEON_1_DB` | ID –æ–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ 2-3 |
| DB_2 | bkc-users-2 | `NEON_2_HOST`, `NEON_2_PASSWORD`, `NEON_2_DB` | ID –æ–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ 4-5 |
| DB_3 | bkc-users-3 | `NEON_3_HOST`, `NEON_3_PASSWORD`, `NEON_3_DB` | ID –æ–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ 6-7 |
| DB_4 | bkc-users-4 | `NEON_4_HOST`, `NEON_4_PASSWORD`, `NEON_4_DB` | ID –æ–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ 8-9 |

**–î–ª—è –∫–∞–∂–¥–æ–π –±–∞–∑—ã:**
- –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω **US East** (–¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏)
- –†–∞–∑–º–µ—Ä: **Free tier** (500 –ú–ë —Ö–≤–∞—Ç–∏—Ç –Ω–∞ 1M+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- –ë—Ä–∞–Ω—á: **main**
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Connection string**

#### üü§ CockroachDB (2 –±–∞–∑—ã –¥–ª—è –ª–æ–≥–æ–≤)

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [CockroachDB](https://cockroachlabs.cloud):

| –ë–∞–∑–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|----------|---------------------|------------|
| LOG_0 | bkc-logs-0 | `COCKROACH_0_HOST`, `COCKROACH_0_PASSWORD`, `COCKROACH_0_DB` | –ö–ª–∏–∫–∏ –∏ –ø–µ—Ä–µ–≤–æ–¥—ã |
| LOG_1 | bkc-logs-1 | `COCKROACH_1_HOST`, `COCKROACH_1_PASSWORD`, `COCKROACH_1_DB` | –ò–≥—Ä—ã –∏ –±–∞—Ä–∞—Ö–æ–ª–∫–∞ |

**–î–ª—è –∫–∞–∂–¥–æ–π –±–∞–∑—ã:**
- –ü–ª–∞–Ω: **Free** (10 –ì–ë)
- –†–µ–≥–∏–æ–Ω: **US Central**
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Connection string**

#### üî¥ Redis (4 –Ω–æ–¥—ã –¥–ª—è –∫—ç—à–∞)

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [Upstash Redis](https://upstash.com/redis):

| –ù–æ–¥–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|----------|---------------------|------------|
| REDIS_0 | redis-global-0 | `REDIS_0_HOST`, `REDIS_0_PASSWORD` | –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–Ω–ª–∞–π–Ω |
| REDIS_1 | redis-global-1 | `REDIS_1_HOST`, `REDIS_1_PASSWORD` | Pub/Sub backup |
| REDIS_2 | redis-leaderboard-0 | `REDIS_2_HOST`, `REDIS_2_PASSWORD` | –õ–∏–¥–µ—Ä–±–æ—Ä–¥—ã |
| REDIS_3 | redis-leaderboard-1 | `REDIS_3_HOST`, `REDIS_3_PASSWORD` | –õ–∏–¥–µ—Ä–±–æ—Ä–¥—ã backup |

**–î–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–¥—ã:**
- –†–µ–≥–∏–æ–Ω: **US East** (–±–ª–∏–∂–∞–π—à–∏–π –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º)
- –ü–ª–∞–Ω: **Free** (30 –ú–ë)
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: **0** –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö, **1** –¥–ª—è –ª–∏–¥–µ—Ä–±–æ—Ä–¥–æ–≤

---

### –®–∞–≥ 3: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (Vercel)

1. **–ó–∞–π–¥–∏—Ç–µ –≤ [Vercel](https://vercel.com)**
2. **Import Project** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±–æ—Ä–∫–∏:**
   ```
   Framework Preset: React
   Root Directory: ./webapp
   Build Command: npm run build
   Output Directory: dist
   Install Command: npm install
   ```

4. **Environment Variables:**
   ```
   REACT_APP_API_NODES=https://bkc-core-1.onrender.com,https://bkc-core-2.onrender.com,https://bkc-core-3.onrender.com
   REACT_APP_GAME_NODE=https://bkc-games-1.onrender.com
   REACT_APP_WS_NODE=wss://bkc-games-1.onrender.com
   REACT_APP_DEFAULT_LANGUAGE=ru
   ```

5. **Deploy** ‚Üí –ø–æ–ª—É—á–∏—Ç–µ URL –≤–∏–¥–∞ `https://bkc-coin.vercel.app`

---

### –®–∞–≥ 4: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –±—ç–∫–µ–Ω–¥–∞ (Render x15)

#### üìã –°–ø–∏—Å–æ–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ Render:

**–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–æ–¥—ã (10 —à—Ç—É–∫):**
- `bkc-core-1` ‚Üí `bkc-core-10`
- –¢–∏–ø: **Web Service**
- –ë—Ä–∞–Ω—á: **production**

**–ò–≥—Ä–æ–≤—ã–µ –Ω–æ–¥—ã (3 —à—Ç—É–∫–∏):**
- `bkc-games-1` ‚Üí `bkc-games-3`
- –¢–∏–ø: **Web Service**
- –ë—Ä–∞–Ω—á: **production**

**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–æ–¥—ã (2 —à—Ç—É–∫–∏):**
- `bkc-market-1` (–±–∞—Ä–∞—Ö–æ–ª–∫–∞)
- `bkc-bank-1` (–±–∞–Ω–∫ –∏ –ø–æ–¥–ø–∏—Å–∫–∏)

#### üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–¥—ã:

**–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–æ–¥—ã (Core 1-10):**
```bash
# Runtime
Runtime: Go
Build Command: go build -o bin/server ./cmd/server
Start Command: ./bin/server

# Environment Variables
BOT_TOKEN=your_telegram_bot_token
ADMIN_ID=your_admin_id
DATABASE_URL=postgres://neon_connection_string
REDIS_URL=redis://upstash_connection_string
PUBLIC_BASE_URL=https://your-service-name.onrender.com
WEBAPP_URL=https://bkc-coin.vercel.app

# –ü—Ä–æ—Ñ–∏–ª—å –Ω–æ–¥—ã
RUN_API=1
RUN_BOT=0  # –¢–æ–ª—å–∫–æ –Ω–∞ –ø–µ—Ä–≤–æ–π –Ω–æ–¥–µ
API_PROFILE=full
RUN_FASTTAP_WORKER=1

# Neon —à–∞—Ä–¥—ã (–≤—Å–µ 5)
NEON_0_HOST=ep-xxx.us-east-2.aws.neon.tech
NEON_0_PASSWORD=xxx
NEON_0_DB=bkc_users_0
NEON_1_HOST=ep-yyy.us-east-2.aws.neon.tech
NEON_1_PASSWORD=yyy
NEON_1_DB=bkc_users_1
# ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö 5 –±–∞–∑

# CockroachDB —à–∞—Ä–¥—ã
COCKROACH_0_HOST=free-tier.gcp-us-central1.cockroachlabs.cloud
COCKROACH_0_PASSWORD=zzz
COCKROACH_0_DB=bkc_logs_0
COCKROACH_1_HOST=free-tier.gcp-us-east1.cockroachlabs.cloud
COCKROACH_1_PASSWORD=www
COCKROACH_1_DB=bkc_logs_1

# Redis –Ω–æ–¥—ã
REDIS_0_HOST=redis-12345.c1.us-east-1-2.ec2.cloud.redislabs.com
REDIS_0_PASSWORD=aaa
REDIS_1_HOST=redis-12346.c1.us-east-1-2.ec2.cloud.redislabs.com
REDIS_1_PASSWORD=bbb
REDIS_2_HOST=redis-12347.c1.us-east-1-2.ec2.cloud.redislabs.com
REDIS_2_PASSWORD=ccc
REDIS_3_HOST=redis-12348.c1.us-east-1-2.ec2.cloud.redislabs.com
REDIS_3_PASSWORD=ddd
```

**–ò–≥—Ä–æ–≤—ã–µ –Ω–æ–¥—ã (Games 1-3):**
```bash
# –û—Ç–ª–∏—á–∏—è –æ—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö –Ω–æ–¥
API_PROFILE=games
RUN_BOT=0
RUN_FASTTAP_WORKER=0

# WebSocket –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
ENABLE_WEBSOCKET=1
WS_READ_BUFFER_SIZE=1024
WS_WRITE_BUFFER_SIZE=1024
WS_PING_PERIOD=30s
```

**–ù–æ–¥–∞ –±–∞—Ä–∞—Ö–æ–ª–∫–∏ (Market-1):**
```bash
API_PROFILE=market
RUN_OVERDUE_WORKER=0
RUN_FASTTAP_WORKER=0

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
MARKET_LISTING_FEE_COINS=2000
MARKET_ESCROW_FEE=0.02
MARKET_MAX_LISTINGS=50
```

**–ù–æ–¥–∞ –±–∞–Ω–∫–∞ (Bank-1):**
```bash
API_PROFILE=bank
RUN_OVERDUE_WORKER=1
RUN_FASTTAP_WORKER=0

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–Ω–∫–∞
BANK_LOAN_7D_INTEREST_BP=1200
BANK_LOAN_30D_INTEREST_BP=3500
BANK_LOAN_MAX_AMOUNT=2000000
```

---

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot

1. **–°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞** —á–µ—Ä–µ–∑ [@BotFather](https://t.me/botfather):
   ```
   /newbot
   BKC Coin Bot
   bkc_coin_bot
   ```

2. **–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω** –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `BOT_TOKEN`

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Webhook** (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä–≤–æ–π –Ω–æ–¥—ã):
   ```bash
   curl -X POST "https://api.telegram.org/bot{BOT_TOKEN}/setWebhook" \
   -H "Content-Type: application/json" \
   -d '{"url": "https://bkc-core-1.onrender.com/webhook"}'
   ```

4. **–°–æ–∑–¥–∞–π—Ç–µ Mini App** –≤ BotFather:
   ```
   /newapp
   BKC Coin
   https://bkc-coin.vercel.app
   ```

---

### –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –ø–∏–Ω–≥–µ—Ä–∞

#### üè• Health Check

–ö–∞–∂–¥–∞—è –Ω–æ–¥–∞ –∏–º–µ–µ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/v1/health`:
```json
{
  "status": "ok",
  "timestamp": "2024-01-01T00:00:00Z",
  "load": 45,
  "uptime": 3600,
  "version": "v2.0.0"
}
```

#### üì° –í–Ω–µ—à–Ω–∏–π –ø–∏–Ω–≥–µ—Ä

–°–æ–∑–¥–∞–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ [cron-job.org](https://cron-job.org):

**–ó–∞–¥–∞—á–∏ –¥–ª—è –ø–∏–Ω–≥–∞:**
```
1. https://bkc-core-1.onrender.com/api/v1/health (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
2. https://bkc-core-2.onrender.com/api/v1/health (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
...
15. https://bkc-games-3.onrender.com/api/v1/health (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
```

---

### –®–∞–≥ 7: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### ‚ö° –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Go runtime

–î–æ–±–∞–≤—å—Ç–µ –≤ `main.go`:
```go
func init() {
    // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–¥ 1 —è–¥—Ä–æ Render Free
    runtime.GOMAXPROCS(1)
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ GC –¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
    debug.SetGCPercent(100)
    debug.SetMemoryLimit(100 * 1024 * 1024) // 100MB
}
```

#### üóÑÔ∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

**Neon –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
```sql
-- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –≤—ã—Å–æ–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫
ALTER SYSTEM SET shared_buffers = '128MB';
ALTER SYSTEM SET effective_cache_size = '256MB';
ALTER SYSTEM SET maintenance_work_mem = '64MB';
ALTER SYSTEM SET checkpoint_completion_target = 0.9;
```

**Redis –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
```bash
# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
maxmemory-policy allkeys-lru
save ""
appendonly yes
appendfsync everysec
```

---

### –®–∞–≥ 8: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏

#### üß™ Load Testing

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [k6](https://k6.io) –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```javascript
// load-test.js
import http from 'k6/http';
import { check } from 'k6';

export let options = {
  stages: [
    { duration: '2m', target: 1000 }, // –ü–æ–¥—ä–µ–º –¥–æ 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    { duration: '5m', target: 5000 }, // –ü–æ–¥—ä–µ–º –¥–æ 5000
    { duration: '10m', target: 10000 }, // –ü–æ–¥—ä–µ–º –¥–æ 10000
    { duration: '5m', target: 20000 }, // –ü–∏–∫ 20000
    { duration: '5m', target: 0 }, // –°–ø–∞–¥
  ],
};

export default function() {
  let response = http.post('https://bkc-core-1.onrender.com/api/v1/tap', 
    JSON.stringify({
      user_id: Math.floor(Math.random() * 1000000),
      taps: Math.floor(Math.random() * 100) + 1,
    }), {
      headers: {
        'Content-Type': 'application/json',
      },
    }
  );
  
  check(response, {
    'status is 200': (r) => r.status === 200,
    'response time < 500ms': (r) => r.timings.duration < 500,
  });
}
```

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞:
```bash
k6 run load-test.js
```

---

## üîß –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**
- **Response time**: < 200ms (95 percentile)
- **CPU usage**: < 80% –Ω–∞ –∫–∞–∂–¥–æ–π –Ω–æ–¥–µ
- **Memory usage**: < 400MB –Ω–∞ –∫–∞–∂–¥–æ–π –Ω–æ–¥–µ
- **Database connections**: < 80% –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞
- **Redis memory**: < 80% –æ—Ç –ª–∏–º–∏—Ç–∞

### üö® –ê–ª–µ—Ä—Ç—ã

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã –≤ [UptimeRobot](https://uptimerobot.com):

1. **HTTP Monitor** –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–¥—ã
2. **Keyword Monitor** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ "status": "ok"
3. **Alert threshold**: 2 –Ω–µ—É–¥–∞—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥—Ä—è–¥

### üì± –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–∞–∂–¥—É—é –Ω–æ–¥—É:
```go
// –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
log.Printf("REQUEST: method=%s path=%s user_id=%d latency=%dms", 
    r.Method, r.URL.Path, userID, latency)

// –û—à–∏–±–∫–∏ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
log.Printf("ERROR: err=%v user_id=%d request_id=%s", 
    err, userID, requestID)
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### üì¶ –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:**
   ```bash
   git checkout -b update-v2.1
   # –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
   git commit -m "Update to v2.1"
   git push origin update-v2.1
   ```

2. **–ü–æ—à–∞–≥–æ–≤–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:**
   - –û–±–Ω–æ–≤–∏—Ç–µ `bkc-core-1` ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ health
   - –û–±–Ω–æ–≤–∏—Ç–µ `bkc-core-2` ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ health
   - ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö –Ω–æ–¥
   - –í –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—á–µ—Ä–µ–¥—å –æ–±–Ω–æ–≤–∏—Ç–µ –∏–≥—Ä–æ–≤—ã–µ –Ω–æ–¥—ã

3. **–û—Ç–∫–∞—Ç –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:**
   ```bash
   git checkout production
   git push origin production
   ```

### üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã Neon:**
```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±—ç–∫–∞–ø—ã —á–µ—Ä–µ–∑ API
curl -X POST "https://console.neon.tech/api/v2/projects/{project_id}/backups" \
  -H "Authorization: Bearer {api_key}" \
  -H "Content-Type: application/json" \
  -d '{"backup_name": "daily-backup-$(date +%Y%m%d)"}'
```

**–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ CockroachDB:**
```bash
# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –±—ç–∫–∞–ø—ã
cockroach sql --url={connection_string} \
  --execute="BACKUP DATABASE TO 's3://backups/$(date +%Y%m%d)/'"
```

---

## üéØ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### üìà –ö–æ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ –ø–ª–∞—Ç–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã

**–¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**
- **Neon**: > 400MB –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∏–∑ 500MB
- **CockroachDB**: > 8GB –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∏–∑ 10GB  
- **Redis**: > 24MB –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∏–∑ 30MB
- **Render**: > 750 hours/month (free limit)

### üöÄ –ü–ª–∞–Ω –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

**Level 1 (0-10k –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π):**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

**Level 2 (10k-50k –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π):**
- –û–±–Ω–æ–≤–∏—Ç—å 2-3 –Ω–æ–¥—ã Render –¥–æ **Starter ($7/–º–µ—Å)**
- –û–±–Ω–æ–≤–∏—Ç—å Neon –¥–æ **Scale ($19/–º–µ—Å)**

**Level 3 (50k+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π):**
- –ü–µ—Ä–µ–µ—Ö–∞—Ç—å –Ω–∞ **AWS/DigitalOcean VPS**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å **Kubernetes cluster**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **managed PostgreSQL**

---

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ troubleshooting

### üîß –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**1. Cold start –Ω–∞ Render:**
- –†–µ—à–µ–Ω–∏–µ: –í–Ω–µ—à–Ω–∏–π –ø–∏–Ω–≥–µ—Ä –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: Upgrade –¥–æ Starter –ø–ª–∞–Ω–∞

**2. Database connection limits:**
- –†–µ—à–µ–Ω–∏–µ: –£–≤–µ–ª–∏—á–∏—Ç—å `pool_size` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏ –∏–Ω–¥–µ–∫—Å—ã

**3. Memory leaks:**
- –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–æ—Ä—É—Ç–∏–Ω—ã —Å `pprof`
- –î–æ–±–∞–≤–∏—Ç—å `runtime.SetMemoryLimit`

**4. WebSocket disconnects:**
- –†–µ—à–µ–Ω–∏–µ: –£–≤–µ–ª–∏—á–∏—Ç—å `ping_period`
- –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

### üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

- **GitHub Issues**: [repository/issues](https://github.com/your-repo/issues)
- **Telegram**: @bkc_support
- **Email**: support@bkc-coin.com

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] –°–æ–∑–¥–∞–Ω—ã 5 –±–∞–∑ Neon.tech
- [ ] –°–æ–∑–¥–∞–Ω—ã 2 –±–∞–∑—ã CockroachDB  
- [ ] –°–æ–∑–¥–∞–Ω—ã 4 –Ω–æ–¥—ã Redis
- [ ] –†–∞–∑–≤–µ—Ä–Ω—É—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ Vercel
- [ ] –°–æ–∑–¥–∞–Ω—ã 15 –Ω–æ–¥ –Ω–∞ Render
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω Telegram Bot
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –≤–Ω–µ—à–Ω–∏–π –ø–∏–Ω–≥–µ—Ä
- [ ] –ü—Ä–æ–≤–µ–¥–µ–Ω–æ load testing
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∞–ª–µ—Ä—Ç—ã –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –°–æ–∑–¥–∞–Ω—ã –±—ç–∫–∞–ø—ã
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –∏ –∫–ª—é—á–∏

---

**üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –í–∞—à–∞ BKC Coin v2 –≥–æ—Ç–æ–≤–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç—ã—Å—è—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π!**

**–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞: 20,000+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
**–°—Ç–æ–∏–º–æ—Å—Ç—å: $0/–º–µ—Å—è—Ü (–Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–∞—Ö)**
**–í—Ä–µ–º—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è: ~2 —á–∞—Å–∞**
